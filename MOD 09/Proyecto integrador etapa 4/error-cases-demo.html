<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casos de Error - Clase Cliente</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .content {
            padding: 30px;
        }
        
        .error-section {
            margin-bottom: 30px;
            border: 1px solid #e74c3c;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .error-section h2 {
            background: #e74c3c;
            color: white;
            margin: 0;
            padding: 15px;
            font-size: 1.3em;
        }
        
        .error-content {
            padding: 20px;
            background: #fdf2f2;
        }
        
        .error-example {
            background: white;
            border: 1px solid #e74c3c;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }
        
        .error-code {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .error-message {
            color: #c0392b;
            font-style: italic;
        }
        
        .test-button {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s;
        }
        
        .test-button:hover {
            background: #c0392b;
        }
        
        .results {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .category {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .category-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
        }
        
        .category-card h3 {
            color: #e74c3c;
            margin-top: 0;
        }
        
        .category-card ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .category-card li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ùå Casos de Error</h1>
            <p>Demostraci√≥n de Validaciones de la Clase Cliente</p>
        </div>
        
        <div class="content">
            <div class="error-section">
                <h2>1. Datos Vac√≠os o Nulos</h2>
                <div class="error-content">
                    <p>La clase Cliente valida que todos los campos requeridos tengan valores v√°lidos:</p>
                    
                    <div class="error-example">
                        <div class="error-code">// Nombre vac√≠o</div>
                        new Cliente('', 'P√©rez', '12345678', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El nombre es requerido y debe ser una cadena de texto</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Apellido vac√≠o</div>
                        new Cliente('Juan', '', '12345678', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El apellido es requerido y debe ser una cadena de texto</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// DNI vac√≠o</div>
                        new Cliente('Juan', 'P√©rez', '', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El DNI es requerido y debe ser una cadena de texto</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Email vac√≠o</div>
                        new Cliente('Juan', 'P√©rez', '12345678', '', 'password123');
                        <div class="error-message">‚ùå Error: El email es requerido y debe ser una cadena de texto</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Password vac√≠o</div>
                        new Cliente('Juan', 'P√©rez', '12345678', 'juan@email.com', '');
                        <div class="error-message">‚ùå Error: La contrase√±a es requerida y debe ser una cadena de texto</div>
                    </div>
                    
                    <button class="test-button" onclick="testEmptyData()">üß™ Probar Datos Vac√≠os</button>
                    <div id="emptyResults" class="results" style="display: none;"></div>
                </div>
            </div>
            
            <div class="error-section">
                <h2>2. Formatos Incorrectos</h2>
                <div class="error-content">
                    <p>Validaci√≥n de formatos espec√≠ficos para cada tipo de dato:</p>
                    
                    <div class="error-example">
                        <div class="error-code">// Email sin @</div>
                        new Cliente('Juan', 'P√©rez', '12345678', 'juanemail.com', 'password123');
                        <div class="error-message">‚ùå Error: El formato del email no es v√°lido</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Email sin dominio</div>
                        new Cliente('Juan', 'P√©rez', '12345678', 'juan@', 'password123');
                        <div class="error-message">‚ùå Error: El formato del email no es v√°lido</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Email sin punto</div>
                        new Cliente('Juan', 'P√©rez', '12345678', 'juan@email', 'password123');
                        <div class="error-message">‚ùå Error: El formato del email no es v√°lido</div>
                    </div>
                    
                    <button class="test-button" onclick="testInvalidFormats()">üß™ Probar Formatos Incorrectos</button>
                    <div id="formatResults" class="results" style="display: none;"></div>
                </div>
            </div>
            
            <div class="error-section">
                <h2>3. Longitudes Inv√°lidas</h2>
                <div class="error-content">
                    <p>Validaci√≥n de longitudes m√≠nimas y m√°ximas para cada campo:</p>
                    
                    <div class="error-example">
                        <div class="error-code">// Nombre muy corto (1 car√°cter)</div>
                        new Cliente('J', 'P√©rez', '12345678', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El nombre debe tener al menos 2 caracteres</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Nombre muy largo (51 caracteres)</div>
                        new Cliente('A'.repeat(51), 'P√©rez', '12345678', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El nombre no puede exceder 50 caracteres</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// DNI muy corto (6 d√≠gitos)</div>
                        new Cliente('Juan', 'P√©rez', '123456', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El DNI debe contener entre 7 y 8 d√≠gitos num√©ricos</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// DNI muy largo (9 d√≠gitos)</div>
                        new Cliente('Juan', 'P√©rez', '123456789', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El DNI debe contener entre 7 y 8 d√≠gitos num√©ricos</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Password muy corto (5 caracteres)</div>
                        new Cliente('Juan', 'P√©rez', '12345678', 'juan@email.com', '12345');
                        <div class="error-message">‚ùå Error: La contrase√±a debe tener al menos 6 caracteres</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Password muy largo (51 caracteres)</div>
                        new Cliente('Juan', 'P√©rez', '12345678', 'juan@email.com', 'a'.repeat(51));
                        <div class="error-message">‚ùå Error: La contrase√±a no puede exceder 50 caracteres</div>
                    </div>
                    
                    <button class="test-button" onclick="testInvalidLengths()">üß™ Probar Longitudes Inv√°lidas</button>
                    <div id="lengthResults" class="results" style="display: none;"></div>
                </div>
            </div>
            
            <div class="error-section">
                <h2>4. Caracteres No Permitidos</h2>
                <div class="error-content">
                    <p>Validaci√≥n de caracteres permitidos para nombres y apellidos:</p>
                    
                    <div class="error-example">
                        <div class="error-code">// Nombre con n√∫meros</div>
                        new Cliente('Juan123', 'P√©rez', '12345678', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El nombre solo puede contener letras y espacios</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Apellido con s√≠mbolos</div>
                        new Cliente('Juan', 'P√©rez@', '12345678', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El apellido solo puede contener letras y espacios</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// DNI con letras</div>
                        new Cliente('Juan', 'P√©rez', '1234567A', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El DNI debe contener entre 7 y 8 d√≠gitos num√©ricos</div>
                    </div>
                    
                    <button class="test-button" onclick="testInvalidCharacters()">üß™ Probar Caracteres No Permitidos</button>
                    <div id="characterResults" class="results" style="display: none;"></div>
                </div>
            </div>
            
            <div class="error-section">
                <h2>5. Casos Edge y Especiales</h2>
                <div class="error-content">
                    <p>Casos l√≠mite y situaciones especiales:</p>
                    
                    <div class="error-example">
                        <div class="error-code">// Par√°metros null/undefined</div>
                        new Cliente(null, 'P√©rez', '12345678', 'juan@email.com', 'password123');
                        <div class="error-message">‚ùå Error: El nombre es requerido y debe ser una cadena de texto</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Agregar cuenta duplicada</div>
                        cliente.agregarCuenta('C-123');
                        cliente.agregarCuenta('C-123'); // Duplicado
                        <div class="error-message">‚ùå Error: La cuenta ya est√° asociada a este cliente</div>
                    </div>
                    
                    <div class="error-example">
                        <div class="error-code">// Cambiar password inv√°lida</div>
                        cliente.cambiarPassword('123'); // Muy corta
                        <div class="error-message">‚ùå Error: La contrase√±a debe tener al menos 6 caracteres</div>
                    </div>
                    
                    <button class="test-button" onclick="testEdgeCases()">üß™ Probar Casos Edge</button>
                    <div id="edgeResults" class="results" style="display: none;"></div>
                </div>
            </div>
            
            <div class="category">
                <div class="category-card">
                    <h3>üìä Resumen de Validaciones</h3>
                    <ul>
                        <li><strong>Nombre:</strong> 2-50 caracteres, solo letras y espacios</li>
                        <li><strong>Apellido:</strong> 2-50 caracteres, solo letras y espacios</li>
                        <li><strong>DNI:</strong> 7-8 d√≠gitos num√©ricos</li>
                        <li><strong>Email:</strong> Formato v√°lido, m√°ximo 100 caracteres</li>
                        <li><strong>Password:</strong> 6-50 caracteres</li>
                    </ul>
                </div>
                
                <div class="category-card">
                    <h3>üõ°Ô∏è Tipos de Errores</h3>
                    <ul>
                        <li><strong>Campos vac√≠os:</strong> Todos los campos son requeridos</li>
                        <li><strong>Formatos incorrectos:</strong> Email debe tener formato v√°lido</li>
                        <li><strong>Longitudes inv√°lidas:</strong> L√≠mites m√≠nimos y m√°ximos</li>
                        <li><strong>Caracteres especiales:</strong> Solo caracteres permitidos</li>
                        <li><strong>Duplicados:</strong> No se permiten cuentas duplicadas</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Cargar la clase Cliente -->
    <script src="Cliente.js"></script>
    
    <script>
        function showResults(elementId, results) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.textContent = results;
        }
        
        function testEmptyData() {
            let results = 'üß™ Probando datos vac√≠os:\n\n';
            
            const testCases = [
                { field: 'Nombre', data: ['', 'P√©rez', '12345678', 'juan@email.com', 'password123'] },
                { field: 'Apellido', data: ['Juan', '', '12345678', 'juan@email.com', 'password123'] },
                { field: 'DNI', data: ['Juan', 'P√©rez', '', 'juan@email.com', 'password123'] },
                { field: 'Email', data: ['Juan', 'P√©rez', '12345678', '', 'password123'] },
                { field: 'Password', data: ['Juan', 'P√©rez', '12345678', 'juan@email.com', ''] }
            ];
            
            testCases.forEach(testCase => {
                try {
                    new Cliente(...testCase.data);
                    results += `‚ùå ${testCase.field}: No se lanz√≥ error (deber√≠a fallar)\n`;
                } catch (error) {
                    results += `‚úÖ ${testCase.field}: ${error.message}\n`;
                }
            });
            
            showResults('emptyResults', results);
        }
        
        function testInvalidFormats() {
            let results = 'üß™ Probando formatos incorrectos:\n\n';
            
            const testCases = [
                { format: 'Email sin @', data: ['Juan', 'P√©rez', '12345678', 'juanemail.com', 'password123'] },
                { format: 'Email sin dominio', data: ['Juan', 'P√©rez', '12345678', 'juan@', 'password123'] },
                { format: 'Email sin punto', data: ['Juan', 'P√©rez', '12345678', 'juan@email', 'password123'] }
            ];
            
            testCases.forEach(testCase => {
                try {
                    new Cliente(...testCase.data);
                    results += `‚ùå ${testCase.format}: No se lanz√≥ error (deber√≠a fallar)\n`;
                } catch (error) {
                    results += `‚úÖ ${testCase.format}: ${error.message}\n`;
                }
            });
            
            showResults('formatResults', results);
        }
        
        function testInvalidLengths() {
            let results = 'üß™ Probando longitudes inv√°lidas:\n\n';
            
            const testCases = [
                { field: 'Nombre muy corto', data: ['J', 'P√©rez', '12345678', 'juan@email.com', 'password123'] },
                { field: 'Nombre muy largo', data: ['A'.repeat(51), 'P√©rez', '12345678', 'juan@email.com', 'password123'] },
                { field: 'DNI muy corto', data: ['Juan', 'P√©rez', '123456', 'juan@email.com', 'password123'] },
                { field: 'DNI muy largo', data: ['Juan', 'P√©rez', '123456789', 'juan@email.com', 'password123'] },
                { field: 'Password muy corto', data: ['Juan', 'P√©rez', '12345678', 'juan@email.com', '12345'] },
                { field: 'Password muy largo', data: ['Juan', 'P√©rez', '12345678', 'juan@email.com', 'a'.repeat(51)] }
            ];
            
            testCases.forEach(testCase => {
                try {
                    new Cliente(...testCase.data);
                    results += `‚ùå ${testCase.field}: No se lanz√≥ error (deber√≠a fallar)\n`;
                } catch (error) {
                    results += `‚úÖ ${testCase.field}: ${error.message}\n`;
                }
            });
            
            showResults('lengthResults', results);
        }
        
        function testInvalidCharacters() {
            let results = 'üß™ Probando caracteres no permitidos:\n\n';
            
            const testCases = [
                { field: 'Nombre con n√∫meros', data: ['Juan123', 'P√©rez', '12345678', 'juan@email.com', 'password123'] },
                { field: 'Apellido con s√≠mbolos', data: ['Juan', 'P√©rez@', '12345678', 'juan@email.com', 'password123'] },
                { field: 'DNI con letras', data: ['Juan', 'P√©rez', '1234567A', 'juan@email.com', 'password123'] }
            ];
            
            testCases.forEach(testCase => {
                try {
                    new Cliente(...testCase.data);
                    results += `‚ùå ${testCase.field}: No se lanz√≥ error (deber√≠a fallar)\n`;
                } catch (error) {
                    results += `‚úÖ ${testCase.field}: ${error.message}\n`;
                }
            });
            
            showResults('characterResults', results);
        }
        
        function testEdgeCases() {
            let results = 'üß™ Probando casos edge:\n\n';
            
            // Par√°metros null/undefined
            try {
                new Cliente(null, 'P√©rez', '12345678', 'juan@email.com', 'password123');
                results += '‚ùå Par√°metro null: No se lanz√≥ error (deber√≠a fallar)\n';
            } catch (error) {
                results += `‚úÖ Par√°metro null: ${error.message}\n`;
            }
            
            // Cuenta duplicada
            try {
                const cliente = new Cliente('Juan', 'P√©rez', '12345678', 'juan@email.com', 'password123');
                cliente.agregarCuenta('C-123');
                cliente.agregarCuenta('C-123'); // Duplicado
                results += '‚ùå Cuenta duplicada: No se lanz√≥ error (deber√≠a fallar)\n';
            } catch (error) {
                results += `‚úÖ Cuenta duplicada: ${error.message}\n`;
            }
            
            // Password inv√°lida en cambio
            try {
                const cliente = new Cliente('Juan', 'P√©rez', '12345678', 'juan@email.com', 'password123');
                cliente.cambiarPassword('123'); // Muy corta
                results += '‚ùå Password inv√°lida: No se lanz√≥ error (deber√≠a fallar)\n';
            } catch (error) {
                results += `‚úÖ Password inv√°lida: ${error.message}\n`;
            }
            
            showResults('edgeResults', results);
        }
    </script>
</body>
</html>
